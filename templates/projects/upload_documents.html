<!-- components/document_upload.html -->
<h6 class="mt-4">Uploaded Documents</h6>
<div class="table-responsive">
  <table class="table table-bordered align-middle">
    <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>File</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="{{ section_id }}-document-list">
      {% for doc in documents %}
        {% if doc.type == document_type %}
          <tr data-id="{{ doc.id }}">
            <td>{{ doc.id }}</td>
            <td>{{ doc.title }}</td>
            <td><a href="{{ doc.file.url }}" target="_blank">View File</a></td>
            <td>
              <button class="btn btn-danger btn-sm remove-document-btn">Remove</button>
            </td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="d-flex justify-content-start mb-3">
  <button class="btn btn-outline-primary show-add-document-form" data-section="{{ section_id }}">
    <i class="bi bi-file-earmark-plus me-1"></i> Add Document
  </button>
</div>

<div id="{{ section_id }}-upload-document-container" class="upload-document-container" style="display: none;">
  <form action="{% url 'submit_leed_docs' %}" class="document-upload-form" enctype="multipart/form-data" method="POST" data-section="{{ section_id }}">
    {% csrf_token %}
    <div class="border p-4 rounded-3 shadow-sm bg-light position-relative">
      <button type="button" class="btn-close position-absolute top-0 end-0 m-3 close-upload-document-form" aria-label="Close"></button>
      <h5 class="mb-3">Upload Document</h5>
      <div class="mb-3">
        <label class="form-label"><strong>Title</strong></label>
        <input type="text" name="title" class="form-control" placeholder="Enter document title" required>
      </div>

      <div class="mb-3">
        <label class="form-label"><strong>Select File</strong></label>
        <input type="file" name="file" class="form-control" required>
      </div>

      <input type="hidden" name="type" value="{{ document_type }}">
      <button type="submit" class="btn btn-success">Upload Document</button>
    </div>
  </form>
</div>


